<!DOCTYPE html>
<html>
<head>
    <script>
        function showHint(str) {
            if (str.length < 4) {
                document.getElementById("txtHint").innerHTML = "";
                return;
            } else {
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function() {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("txtHint").innerHTML = xmlhttp.responseText;
                    }
                };
                xmlhttp.open("GET", "../Scripts/poker-simulator/poker_simulator_interface.php?q=" + str, true);
                xmlhttp.send();
            }
        }
        function hu1pc0() {
            var e = document.getElementById("hu1pc0c1"); //This can be simplified with jquery
            var card1 = e.options[e.selectedIndex].value;
            var e = document.getElementById("hu1pc0c2");
            var card2 = e.options[e.selectedIndex].value;

            var playerCardLength = card1.length + card2.length;
            console.log('card1:' + card1 + ', card2:' + card2);
            console.log(playerCardLength);
            if(playerCardLength >= 4) {
                if (card1 == card2) {
                    console.log('cards dont differ');
                    document.getElementById("jsresponse").innerHTML = "Please pick unique cards";
                    return
                }
                console.log('cards differ');
                document.getElementById("jsresponse").innerHTML = "Two cards selected";
                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function() {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("jsonresponse").innerHTML = xmlhttp.responseText;
                    }
                };
                var params = "t=co&p=2&i=100&p1c1="+card1+"&p1c2="+card2;
                xmlhttp.open("GET", "../Scripts/poker-simulator/poker_simulator_interface.php?" + params, true);
                xmlhttp.send();

            }
        }

        function callCalculateOdds(urlParams) {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    return xmlhttp.responseText;
                }
            };
            xmlhttp.open("GET", "../Scripts/poker-simulator/poker_simulator_interface.php?" + urlParams, true);
            xmlhttp.send();
        }

        function cohu1pc0() {
            var e = document.getElementById("hu1pc0c1"); //This can be simplified with jquery
            var card1 = e.options[e.selectedIndex].value;
            var e = document.getElementById("hu1pc0c2");
            var card2 = e.options[e.selectedIndex].value;

        }
        // TODO validate input function

        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Introduction_to_Object-Oriented_JavaScript



    </script>
</head>
<body>
<!--
<p><b>Heads Up Simulator (No Opponent)</b></p>
<form>
    Enter your cards pre flop: <input type="text" onkeyup="showHint(this.value)">
</form>
<p>Chance of winning: <span id="txtHint"></span></p>

<p><b>Heads Up Simulator (1 Opponent)</b></p>
<form>
    Enter your cards pre flop: <input type="text" onkeyup="showHint(this.value)">
</form>
<p>Chance of winning: <span id="txtHint"></span></p>
-->

<!--Heads UP, 1 Player, Community 0, Card 1-->
<p>Heads UP, 1 Player, Community 0, Card 1, 100 iterations</p>
<p>jsresponse: <span id="jsresponse"></span></p>
<p>jsonresponse: <span id="jsonresponse"></span></p>
<select id="hu1pc0c1" onchange="hu1pc0()">
    <option selected disabled hidden value=''></option>
    <optgroup label="Clubs">
        <option value="Ac">Ac</option>
        <option value="Kc">Kc</option>
        <option value="Qc">Qc</option>
        <option value="Jc">Jc</option>
        <option value="10c">10c</option>
        <option value="9c">9c</option>
        <option value="8c">8c</option>
        <option value="7c">7c</option>
        <option value="6c">6c</option>
        <option value="5c">5c</option>
        <option value="4c">4c</option>
        <option value="3c">3c</option>
        <option value="2c">2c</option>
    </optgroup>
    <optgroup label="Diamonds">
        <option value="Ad">Ad</option>
        <option value="Kd">Kd</option>
        <option value="Qd">Qd</option>
        <option value="Jd">Jd</option>
        <option value="10d">10d</option>
        <option value="9d">9d</option>
        <option value="8d">8d</option>
        <option value="7d">7d</option>
        <option value="6d">6d</option>
        <option value="5d">5d</option>
        <option value="4d">4d</option>
        <option value="3d">3d</option>
        <option value="2d">2d</option>
    </optgroup>
    <optgroup label="Hearts">
        <option value="Ah">Ah</option>
        <option value="Kh">Kh</option>
        <option value="Qh">Qh</option>
        <option value="Jh">Jh</option>
        <option value="10h">10h</option>
        <option value="9h">9h</option>
        <option value="8h">8h</option>
        <option value="7h">7h</option>
        <option value="6h">6h</option>
        <option value="5h">5h</option>
        <option value="4h">4h</option>
        <option value="3h">3h</option>
        <option value="2h">2h</option>
    </optgroup>
    <optgroup label="Spades">
        <option value="As">As</option>
        <option value="Ks">Ks</option>
        <option value="Qs">Qs</option>
        <option value="Js">Js</option>
        <option value="10s">10s</option>
        <option value="9s">9s</option>
        <option value="8s">8s</option>
        <option value="7s">7s</option>
        <option value="6s">6s</option>
        <option value="5s">5s</option>
        <option value="4s">4s</option>
        <option value="3s">3s</option>
        <option value="2s">2s</option>
    </optgroup>
</select>

<select id="hu1pc0c2" onchange="hu1pc0()">
    <option selected disabled hidden value=''></option>
    <optgroup label="Clubs">
        <option value="Ac">Ac</option>
        <option value="Kc">Kc</option>
        <option value="Qc">Qc</option>
        <option value="Jc">Jc</option>
        <option value="10c">10c</option>
        <option value="9c">9c</option>
        <option value="8c">8c</option>
        <option value="7c">7c</option>
        <option value="6c">6c</option>
        <option value="5c">5c</option>
        <option value="4c">4c</option>
        <option value="3c">3c</option>
        <option value="2c">2c</option>
    </optgroup>
    <optgroup label="Diamonds">
        <option value="Ad">Ad</option>
        <option value="Kd">Kd</option>
        <option value="Qd">Qd</option>
        <option value="Jd">Jd</option>
        <option value="10d">10d</option>
        <option value="9d">9d</option>
        <option value="8d">8d</option>
        <option value="7d">7d</option>
        <option value="6d">6d</option>
        <option value="5d">5d</option>
        <option value="4d">4d</option>
        <option value="3d">3d</option>
        <option value="2d">2d</option>
    </optgroup>
    <optgroup label="Hearts">
        <option value="Ah">Ah</option>
        <option value="Kh">Kh</option>
        <option value="Qh">Qh</option>
        <option value="Jh">Jh</option>
        <option value="10h">10h</option>
        <option value="9h">9h</option>
        <option value="8h">8h</option>
        <option value="7h">7h</option>
        <option value="6h">6h</option>
        <option value="5h">5h</option>
        <option value="4h">4h</option>
        <option value="3h">3h</option>
        <option value="2h">2h</option>
    </optgroup>
    <optgroup label="Spades">
        <option value="As">As</option>
        <option value="Ks">Ks</option>
        <option value="Qs">Qs</option>
        <option value="Js">Js</option>
        <option value="10s">10s</option>
        <option value="9s">9s</option>
        <option value="8s">8s</option>
        <option value="7s">7s</option>
        <option value="6s">6s</option>
        <option value="5s">5s</option>
        <option value="4s">4s</option>
        <option value="3s">3s</option>
        <option value="2s">2s</option>
    </optgroup>
</select>


</body>
</html>
